# 第三阶段报告

'''cpp
QT代码实现————尹堃、张乐缘
Ai升级及报告撰写————方言诚
Finished on 2024.5.23
'''

## 1. 附加任务完成情况

1. `Task4` 完善网络部分1：实现结束后客户端发送 `READY_OP` 表示准备再来一局
   - 具体实现方法：在`myclientwindow`类中，添加`ready_op`函数，当用户点击`Ready`按钮时，调用该函数，向服务器发送`READY_OP`
   - 该函数被调用后，会向服务器发送`READY_OP`，并等待服务器返回`READY_OP`
   - 服务器收到`READY_OP`后，会向所有客户端发送`READY_OP`，并等待所有客户端返回`READY_OP`，符合任务要求

2. `Task7` AI 线程和图形界面线程独立，AI 托管可以随时关闭
   - 在Qt的全部开发过程中，均使用了多线程技术，通过`QThread`类实现，使得线程可以独立运行，互不干扰
   - 多线程工作使得图形界面线程和AI线程均可以随时关闭，满足了附加任务要求
   - 我们的代码甚至在本地运行`（stage2）`时就已经采用了多线程处理，这对后续代码管理和任务的完成都有很大的帮助

3. `Task10` 热情地帮助其他同学解决大作业中遇到的问题。
   - 在**stage1**部分，帮助了**team01**组同学解决了在计算棋盘棋子走动可行路径时的众多Bug（包括但不限于转向错误，条件考虑缺失，棋子路径错误等问题）
   - 与**team01**和**team03**组的同学`惺惺相惜`，交换了许多对代码的`建设性意见`，**~~很好的解决了小组内部分组员不积极不作为的问题~~**

- - - 
## 2. 网络

1. 代码优势——模块化、可扩展性、用户友好性

   - **模块化设计**：结构清晰，不同的类和文件负责不同的功能，如窗口、对话框、网络通信等，这有助于代码的组织和维护。
   - **Qt框架的使用**：合理利用了Qt框架的优点————在ui设计、代码封装等方面都对Qt有很好的利用
   - **用户界面设计**：XML 用户界面描述文件（如 "mynetwidget" 和 "mysettingsdialog"）提供了对 UI 元素的详细描述，能够创建美观和一致的用户界面。
   - **线程化处理**：文件 "mygamethread" 表明应用程序包含了游戏线程类的定义，用于处理游戏逻辑，这有助于提高游戏性能和响应性。
   - **资源管理性好**：文件中使用了一些资源管理技术，如图片的加载和缩放（如 "mynetdialog" 和 "mypausedialog"），这有助于提高应用程序的性能和稳定性。
   - **复用性强**：一些类，如 "MyNetDialog" 和 "MyNetWidget"，在多个文件中都有使用，这表明代码有较好的复用性。

2. 具体文件内容
   
- `chess_window` 创建Surakarta游戏的窗口。这个类使用了多个 Qt 库，如 QPainter、QWidgets、QTimer 等，用于实现游戏的各种功能
- `mainwindow` 创建应用程序的主窗口。这个类使用了多个 Qt 库，如 QPainter、QPixmap、QTimer 等，用于实现主窗口的各种功能
- `myclientwindow` 创建一个客户端窗口。这个类使用了多个 Qt 库，如 QPainter、QGraphicsOpacityEffect、QTcpSocket 等，用于实现客户端窗口的各种功能，包括网络通信
- `mygamethread` 创建一个游戏线程。这个类使用了多个 Qt 库，如 QDebug、QWaitCondition、QMutex 等，用于实现游戏线程的各种功能
- `mynetdialog` 创建一个对话框。这个类使用了多个 Qt 库，如 QPushButton，用于实现对话框的各种功能
- `mynetwidget` 创建一个窗口小部件。这个类使用了多个 Qt 库，如 QPushButton，用于实现窗口小部件的各种功能
- `mypausedialog` 创建一个暂停对话框。这个类使用了多个 Qt 库，如 QPixmap，用于实现暂停对话框的各种功能
- `myserverwindow` 创建一个服务器窗口。这个类使用了多个 Qt 库，如 NetworkServer 和 MyGameThread，用于实现服务器窗口的各种功能，包括网络通信和游戏逻辑
- `mysettingsdialog` 创建一个设置对话框。这个类使用了多个 Qt 库，如 QPushButton，用于实现设置对话框的各种功能
- `mywidget` 创建一个窗口小部件。这个类使用了多个 Qt 库，如 QPainter 和 QPixmap，用于在窗口小部件上绘制图形和图像

- - - 
## 3. Ai升级

1. 升级思路：通过运用计算机算力强大的特点，通过**模拟**下子前后**胜率变化**来帮助Ai作出选择
   - `ver 1.0` 普通贪心算法
   - `ver 1.1` 对随机下子进行部分优化
   - `ver 2.0` 对全部棋子进行胜率模拟
   - `ver 3.0` 对于本棋的特点，在贪心算法中融入模拟，提升模拟计算的"性价比"
   - `ver 4.0` 针对走棋前后的胜率变化进行模拟

2. 实现优势
   - 模拟过程中的**棋盘拷贝、模拟胜率**具有很强的封装性与复用性
   - 模拟过程中**胜率计算**具有较高的效率与准确性

- - -
## 4. 致谢

- 感谢**team01**和**team03**两组同学在本组Ai开发、测试和Debug工作上的帮助
- **他们值得被狠狠的加分!**